{% extends 'all-gallery/base.html' %}
{% block content %}

<div class="row">

  {% for photos in fotos %}

  <div class="col-xs-4 col-sm-4 col-lg-4 columns">
    <p>{{photos.location.name}}</p>
   <button> <img src="{{photos.image.url}}" alt="Image" class="img-fluit" data-toggle="modal" data-target="#{{photos.id}}"></button>

   <div class="modal fade" id="{{photos.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalCenterTitle"><b>Name: </b>{{phot.name}}</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
          <img src="{{photos.image.url}}" alt="{{photos.name}}" class="img-fluid myimage">
          <p><b>Description:</b>  {{phot.description}}</p>
          <p><b>Taken from:</b>  {{phot.location}}</p>
          <p><b>Category:</b>  {{phot.category}}</p>
          <button class="rounded btn-primary" onclick="copyurl('{{photos.id}}-url')">Copy Image link</button>
          <input class="form-control input-lg" type="text" value="http://127.0.0.1:8000{{photos.image.url}}" id="{{photos.id}}-url">
          <!--Script for copying images link-->
          <script type="text/javascript">
          function copyurl(element){
            var cpvar=document.getElementById(element);
            cpvar.select();
            document.execCommand('copy');
            alert("successfully copied the image link:"+cpvar.value);
          }
          </script>
          </div>
        </div>
      </div>
     </div>
  </div>
  {%endfor%}
  
</div>
{%endblock%}